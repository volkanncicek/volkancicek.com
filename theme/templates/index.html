{% extends "base.html" %}

{% block content %}
<header class="site-header">
    <h1>{{ SITENAME }}</h1>
    {% if INTRO_TEXT %}
    <p class="intro">{{ INTRO_TEXT }}</p>
    {% endif %}
</header>

<section class="posts">
    <h2 class="section-title">Posts</h2>
    {% if articles_page %}
        {% for article in articles_page.object_list %}
        <article class="post-item">
            <a href="{{ SITEURL }}/{{ article.url }}" class="post-link">
                <span class="post-date">{{ article.date.strftime('%Y-%m-%d') }}</span>
                <span class="post-title">{{ article.title }}</span>
            </a>
        </article>
        {% endfor %}
    {% else %}
        {% for article in articles %}
        <article class="post-item">
            <a href="{{ SITEURL }}/{{ article.url }}" class="post-link">
                <span class="post-date">{{ article.date.strftime('%Y-%m-%d') }}</span>
                <span class="post-title">{{ article.title }}</span>
            </a>
        </article>
        {% endfor %}
    {% endif %}
</section>

{% if articles_page and articles_page.has_other_pages() %}
<nav class="pagination">
    {% if articles_page.has_previous() %}
    <a href="{{ SITEURL }}/{{ articles_page.previous_page().url }}" class="prev">&larr; Newer</a>
    {% endif %}
    
    <span class="page-info">Page {{ articles_page.number }} of {{ articles_paginator.num_pages }}</span>
    
    {% if articles_page.has_next() %}
    <a href="{{ SITEURL }}/{{ articles_page.next_page().url }}" class="next">Older &rarr;</a>
    {% endif %}
</nav>
{% endif %}
{% endblock %}
