{% extends "base.html" %}

{% block title %}{{ article.title }} - {{ SITENAME }}{% endblock %}

{% block description %}{{ article.summary|striptags|truncate(160) }}{% endblock %}

{% block og_title %}{{ article.title }}{% endblock %}

{% block content %}
<article class="article">
    <header class="article-header">
        <h1 class="article-title">{{ article.title }}</h1>
        <div class="article-meta">
            <time datetime="{{ article.date.isoformat() }}">{{ article.date.strftime('%B %d, %Y') }}</time>
            {% if article.category %}
            <span class="separator">·</span>
            <a href="{{ SITEURL }}/{{ article.category.url }}">{{ article.category }}</a>
            {% endif %}
            {% if article.tags %}
            <span class="separator">·</span>
            {% for tag in article.tags %}
            <a href="{{ SITEURL }}/{{ tag.url }}" class="tag">{{ tag }}</a>{% if not loop.last %}, {% endif %}
            {% endfor %}
            {% endif %}
        </div>
    </header>
    
    <div class="article-content prose">
        {{ article.content }}
    </div>
    
    {% if article.translations %}
    <div class="translations">
        <span>Available in:</span>
        {% for translation in article.translations %}
        <a href="{{ SITEURL }}/{{ translation.url }}">{{ translation.lang }}</a>
        {% endfor %}
    </div>
    {% endif %}
</article>

<nav class="article-nav">
    {% if article.prev_article %}
    <a href="{{ SITEURL }}/{{ article.prev_article.url }}" class="prev">
        <span class="nav-label">&larr; Previous</span>
        <span class="nav-title">{{ article.prev_article.title }}</span>
    </a>
    {% endif %}
    {% if article.next_article %}
    <a href="{{ SITEURL }}/{{ article.next_article.url }}" class="next">
        <span class="nav-label">Next &rarr;</span>
        <span class="nav-title">{{ article.next_article.title }}</span>
    </a>
    {% endif %}
</nav>
{% endblock %}
